InnoDB 스토리지 엔진은 레코드 기반의 잠금 기능을 제공하며, 잠금 정보가 상당히 작은 공간으로 관리되기 때문에 락 에스컬레이션은 없다.

###### 락 에스컬레이션 : 레코드 락이 페이지 락으로, 또는 테이블 락으로 레벨업 되는 것

일반 상용 DBMS와는 다르게 InnoDB 스토리지 엔진에서 레코드 락뿐 아니라 레코드와 레코드 사이의 간격을 잠그는 *갭(GAP)락*, 레코드 락과 갭 락을 합쳐놓은 *넥스트 키 락(Next key lock)* 이라는 것이 존재한다.

## 레코드락
레코드 자체만을 잠그는 것을 레코드 락이라 한다. InnoDB와 다른 DBMS의 차이는 
InnoDB 스토리지 엔진은 레코드 자체가 아니라 인덱스의 레코드를 잠근다는 점이다.
많은 사용자가 관과하는 부분이지만 레코드 자체를 잠그느냐, 아니면 인덱스를 잠그느냐는 상당히 크고 중요한 차이를 만들어 내기 떄문에 다음에 다시 잠깐 예제로 다루겠다.

## 갭 락
다른 DBMS와의 또 다른 차이가 갭락이다.
레코드와 바로 인접한 레코드 사이의 간격만을 잠그는 것을 의미한다. 갭락의 역할은 레코드와 레코드 사이의 간격에 새로운 레코드가 생성(INSERT)되는 것을 제어하는 것이다.

## 넥스트 키 락
레코드락과 갭 락을 합쳐놓은 형태의 잠금을 넥스트 키 락(Next key lock)이라 한다
STATEMENT 포맷의 바이너리 로그를 사용하는 MySQL 서버에서는 REPEATABLE READ 격리 수준을 사용해야 한다. 

InnoDB의 갭 락이나 넥스트키 락은 바이너리 로그에 기록되는 쿼리가 레플리카 서버에서 실행될 때 소스 서버에서 만들어 낸 결과와 동일한 결과를 만들어내도록 보장하는 것이 주목적이다.

가능하다면 바이너리 로그 포멧을 ROW 형태로 바꿔서 넥스트 키 락이나 갭 락을 줄이는 것이 좋다.